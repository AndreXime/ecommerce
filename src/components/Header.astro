<header class="bg-white border-b border-gray-200 sticky top-0 z-50">
    <div class="container mx-auto px-4 py-4">
        <div
            class="relative flex flex-row justify-between items-center h-10 mb-4"
        >
            <div class="flex items-center gap-4 z-10 relative">
                <button
                    id="menu-open-btn"
                    class="md:hidden text-gray-600 hover:text-blue-600 transition focus:outline-none"
                    aria-label="Abrir menu"
                >
                    <i class="fas fa-bars text-2xl"></i>
                </button>

                <a
                    href="/login"
                    class="hidden md:flex items-center text-gray-600 hover:text-blue-600 cursor-pointer transition"
                >
                    <i class="far fa-user text-lg mr-2"></i>
                    <span class="text-sm font-medium">Minha Conta</span>
                </a>
            </div>

            <div
                class="absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2 z-0 w-max text-center"
            >
                <a href="/" class="group flex items-center justify-center">
                    <span
                        class="flex gap-2 items-center text-xl font-bold tracking-tight text-blue-700 group-hover:text-blue-900 transition"
                    >
                        <span class="text-blue-600">
                            <i class="fas fa-bolt text-xl"></i>
                        </span>
                        <span class="whitespace-nowrap">
                            Emporium<span class="hidden min-[400px]:inline">
                                da Tecnologia</span
                            >
                        </span>
                    </span>
                </a>
            </div>

            <div
                class="flex items-center gap-6 justify-end z-10 relative bg-white/0"
            >
                <nav
                    class="hidden md:flex items-center space-x-4 text-sm font-medium text-gray-600"
                >
                    <a
                        href="/atendimento"
                        class="hover:text-blue-600 transition">Atendimento</a
                    >
                    <a href="/produtos" class="hover:text-blue-600 transition"
                        >Produtos</a
                    >
                </nav>

                <a
                    href="/carrinho"
                    class="relative cursor-pointer text-gray-600 hover:text-blue-600 transition flex items-center"
                >
                    <i class="fas fa-shopping-bag text-2xl"></i>
                    <span
                        class="absolute -top-2 -right-2 bg-blue-600 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center"
                    >
                        2
                    </span>
                </a>
            </div>
        </div>

        <div class="flex justify-center w-full">
            <form
                action="/produtos"
                method="GET"
                class="relative w-full max-w-2xl"
            >
                <div
                    class="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none"
                >
                    <i class="fas fa-search text-gray-400"></i>
                </div>
                <input
                    type="text"
                    name="s"
                    class="block w-full pl-10 pr-4 py-3 border border-gray-300 rounded-full leading-5 bg-gray-50 text-gray-900 placeholder-gray-500 focus:outline-none focus:bg-white focus:border-blue-500 focus:ring-1 focus:ring-blue-500 sm:text-sm transition shadow-sm"
                    placeholder="Buscar produtos..."
                />
            </form>
        </div>
    </div>
</header>

<div
    id="sidebar-overlay"
    class="fixed hidden inset-0 bg-black/50 z-[60] invisible opacity-0 transition-opacity duration-300"
>
</div>

<aside
    id="sidebar-menu"
    class="fixed top-0 left-0 w-72 h-full bg-white z-[70] shadow-2xl transform -translate-x-full transition-transform duration-300 flex flex-col"
>
    <div
        class="p-5 border-b border-gray-100 flex justify-between items-center bg-blue-50"
    >
        <span class="font-bold text-lg text-blue-700">Menu</span>
        <button
            id="menu-close-btn"
            class="text-gray-500 hover:text-red-500 transition outline-none"
        >
            <i class="fas fa-times text-xl"></i>
        </button>
    </div>

    <nav class="flex-1 overflow-y-auto py-4">
        <div
            class="px-4 pb-2 text-xs font-semibold text-gray-400 uppercase tracking-wider"
        >
            Conta
        </div>
        <a
            href="/login"
            class="flex items-center px-6 py-3 text-gray-700 hover:bg-gray-50 hover:text-blue-600 transition border-l-4 border-transparent hover:border-blue-600"
        >
            <i class="far fa-user w-6"></i> Minha Conta
        </a>

        <div
            class="mt-6 px-4 pb-2 text-xs font-semibold text-gray-400 uppercase tracking-wider"
        >
            Navegação
        </div>
        <a
            href="/produtos"
            class="flex items-center px-6 py-3 text-gray-700 hover:bg-gray-50 hover:text-blue-600 transition border-l-4 border-transparent hover:border-blue-600"
        >
            <i class="fas fa-box-open w-6"></i> Produtos
        </a>
        <a
            href="/atendimento"
            class="flex items-center px-6 py-3 text-gray-700 hover:bg-gray-50 hover:text-blue-600 transition border-l-4 border-transparent hover:border-blue-600"
        >
            <i class="fas fa-headset w-6"></i> Atendimento
        </a>
    </nav>
</aside>

<script>
    const menuOpenBtn = document.getElementById("menu-open-btn");
    const menuCloseBtn = document.getElementById("menu-close-btn");
    const sidebarOverlay = document.getElementById("sidebar-overlay");
    const sidebarMenu = document.getElementById("sidebar-menu");

    function toggleMenu() {
        if (sidebarMenu?.classList.contains("-translate-x-full")) {
            sidebarMenu?.classList.remove("-translate-x-full");
            sidebarOverlay?.classList.remove(
                "invisible",
                "opacity-0",
                "hidden",
            );
            document.body.style.overflow = "hidden"; // Impede rolagem do fundo
        } else {
            sidebarMenu?.classList.add("-translate-x-full");
            sidebarOverlay?.classList.add("invisible", "opacity-0", "hidden");
            document.body.style.overflow = "";
        }
    }

    menuOpenBtn?.addEventListener("click", toggleMenu);
    menuCloseBtn?.addEventListener("click", toggleMenu);
    sidebarOverlay?.addEventListener("click", toggleMenu);
</script>
